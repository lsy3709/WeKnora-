# 00. 설치 가이드: WeKnora 서비스 구축

WeKnora 시스템을 로컬 또는 서버 환경에 설치하고 실행하는 구체적인 방법을 안내합니다.

## 1. 사전 요구 사항 (Prerequisites)

설치를 진행하기 전에 시스템이 다음 요구 사항을 충족하는지 확인하십시오.

- **OS**: Windows 10/11 (WSL2), Linux (Ubuntu 권장), 또는 macOS
- **도구**:
  - [Docker](https://www.docker.com/) (엔진 버전 20.10 이상)
  - [Docker Compose](https://docs.docker.com/compose/) (V2 권장)
  - [Git](https://git-scm.com/)
- **권장 하드웨어 사양**:
  - **RAM**: 최소 8GB 이상 (16GB 이상 권장)
  - **CPU**: 4 Core 이상
  - **Storage**: 최소 10GB 이상의 여유 공간

---

## 2. 프로젝트 내려받기 (Clone)

터미널(또는 CMD)을 열고 프로젝트를 복제할 디렉토리로 이동한 후 다음 명령어를 실행합니다.

```bash
git clone https://github.com/Tencent/WeKnora.git
cd WeKnora
```

---

## 3. 환경 변수 설정 (`.env`)

시스템 동작에 필요한 환경 변수를 설정해야 합니다.

1. 템플릿 파일을 복사하여 `.env` 파일을 생성합니다.
   ```bash
   cp .env.example .env
   ```
2. `.env` 파일을 텍스트 에디터(VS Code, 메모장 등)로 열어 다음 주요 항목을 확인/수정합니다.
   - `DB_PASSWORD`: 데이터베이스 암호 설정
   - `REDIS_PASSWORD`: Redis 암호 설정
   - `JWT_SECRET`: 보안을 위한 임의의 문자열 입력
   - `OLLAMA_BASE_URL`: 로컬 Ollama 사용 시 `http://host.docker.internal:11434` (기본값)

---

## 4. 서비스 실행 (Docker Compose)

도커를 사용하여 모든 서비스를 한 번에 구동합니다.

### 4.1 기본 실행 (권장)
가장 핵심적인 서비스(DB, Redis, App, Frontend, DocReader)를 실행합니다.
```bash
docker compose up -d
```

### 4.2 전체 기능 실행 (Full Profile)
MinIO(오브젝트 스토리지), Qdrant(벡터 DB), Neo4j(그래프 DB) 등을 포함한 모든 기능을 사용하려면 프로필 옵션을 추가합니다.
```bash
docker compose --profile full up -d
```

---

## 5. 설치 확인 및 접속

서비스가 정상적으로 떴는지 확인합니다.

1. **컨테이너 상태 확인**:
   ```bash
   docker compose ps
   ```
   모든 서비스의 `STATUS`가 `Up` 또는 `healthy`여야 합니다.

2. **브라우저 접속**:
   - **Frontend (Web UI)**: `http://localhost` (기본 포트 80)
   - **Backend API**: `http://localhost:8080`
   - **Jaeger (Tracing)**: `http://localhost:16686`

---

## 6. 자주 발생하는 설치 문제 (FAQ)

### Q: 프론트엔드가 실행되지 않고 종료됩니다.
**A**: 백엔드 서버가 완전히 뜨기 전에 프론트엔드가 먼저 시작되어 발생하는 호스트 인식 오류일 수 있습니다. 백엔드가 `healthy` 상태가 된 후 프론트엔드만 재시작해 보십시오.
```bash
docker compose restart frontend
```

### Q: 메모리 부족 에러가 발생합니다.
**A**: WeKnora는 다양한 인공지능 모델과 DB를 구동하므로 리소스를 많이 사용합니다. Docker Desktop 설정에서 **Memory 할당량을 8GB 이상**으로 늘려주세요.

---

**다음 단계**: 설치가 완료되었다면 [01. 시작하기: 접속 및 가입](./01_시작하기_접속_및_가입.md) 문서를 따라 첫 계정을 생성해 보세요.
