# 환경 변수 설정 (Environment Variables)
# 1. 이 파일을 .env 로 복사하세요
# 2. 필요에 따라 설정값을 수정하세요
# 3. .env 파일에는 민감한 정보가 포함되므로 절대 Git에 커밋하지 마세요

# ========== 전역 설정 ==========
# WeKnora 버전, 가능한 값: latest(기본값), main(최신 코드)
# WEKNORA_VERSION=latest

# Gin 실행 모드
# 가능한 값: debug(개발 디버그 모드), release(운영 모드, Swagger 비활성화)
GIN_MODE=release

# 회원가입 기능 비활성화 여부, 기본값 false
DISABLE_REGISTRATION=false

# Ollama 서비스 기본 URL, 로컬 Ollama 서비스 접속용
OLLAMA_BASE_URL=http://host.docker.internal:11434

# 데이터베이스
# 데이터베이스 드라이버(postgres/mysql)
DB_DRIVER=postgres

# 검색 엔진 드라이버(postgres/elasticsearch_v7/elasticsearch_v8/qdrant)
RETRIEVE_DRIVER=postgres

# 스토리지 타입(local/minio/cos)
STORAGE_TYPE=local

# 스트림 관리 타입(memory/redis)
STREAM_MANAGER_TYPE=redis

# 백엔드 서비스 포트, 기본값 8080
APP_PORT=8080

# 프론트엔드 서비스 포트, 기본값 80
FRONTEND_PORT=80

# 문서 분석 서비스 포트, 기본값 50051
DOCREADER_PORT=50051

# 데이터베이스 사용자명
DB_USER=postgres

# 데이터베이스 비밀번호
DB_PASSWORD=postgres123!@#

# 데이터베이스 이름
DB_NAME=WeKnora

# Redis를 스트림 관리로 사용하는 경우 필요한 설정
# Redis 비밀번호, 설정하지 않으면 비워두세요
REDIS_PASSWORD=redis123!@#

# Redis 데이터베이스 인덱스, 기본값 0
REDIS_DB=0

# Redis key 접두사, 환경 구분용
REDIS_PREFIX=stream:

# 로컬 스토리지 기본 디렉토리, 업로드된 파일 저장용
LOCAL_STORAGE_BASE_DIR=/data/files

# 더티 데이터 자동 복구
AUTO_RECOVER_DIRTY=true

TENANT_AES_KEY=weknorarag-api-key-secret-secret

# 지식 그래프 활성화 여부(실험적 기능, Neo4j 필요)
ENABLE_GRAPH_RAG=false


# JWT_SECRET 커스터마이징, Token 생성 및 검증용
JWT_SECRET=weknora-jwt-secret

# MinIO 포트
# MINIO_PORT=9000

# MinIO 콘솔 포트
# MINIO_CONSOLE_PORT=9001

# Embedding 작업 동시 실행 풀 크기, 429 등 속도 제한 방지
CONCURRENCY_POOL_SIZE=5

# ElasticSearch를 검색 엔진으로 사용하는 경우 필요한 설정
# ElasticSearch 주소, 예: http://localhost:9200
# ELASTICSEARCH_ADDR=your_elasticsearch_addr

# ElasticSearch 사용자명
# ELASTICSEARCH_USERNAME=your_elasticsearch_username

# ElasticSearch 비밀번호
# ELASTICSEARCH_PASSWORD=your_elasticsearch_password

# ElasticSearch 인덱스명, 문서 청크 저장용
# ELASTICSEARCH_INDEX=WeKnora

# Qdrant를 검색 엔진으로 사용하는 경우 필요한 설정
# Qdrant 호스트
# QDRANT_HOST=localhost

# Qdrant 포트
# QDRANT_PORT=6334

# Qdrant 컬렉션명
# QDRANT_COLLECTION=weknora_embeddings

# Qdrant API 키
# QDRANT_API_KEY=your_qdrant_api_key

# TLS 프로토콜 사용 여부, 기본값 false
# QDRANT_USE_TLS=false

# MinIO를 스토리지 엔진으로 사용하는 경우 필요한 설정
# MinIO Access Key ID
# MINIO_ACCESS_KEY_ID=your_minio_access_key

# MinIO Secret Access Key
# MINIO_SECRET_ACCESS_KEY=your_minio_secret_key

# MinIO 버킷명
# MINIO_BUCKET_NAME=your_minio_bucket_name

# 텐센트 클라우드 COS를 스토리지 엔진으로 사용하는 경우 필요한 설정
# 텐센트 클라우드 COS SecretId
# COS_SECRET_ID=your_cos_secret_id

# 텐센트 클라우드 COS SecretKey
# COS_SECRET_KEY=your_cos_secret_key

# 텐센트 클라우드 COS 스토리지 버킷 리전, 예: ap-guangzhou
# COS_REGION=your_cos_region

# 텐센트 클라우드 COS 스토리지 버킷명
# COS_BUCKET_NAME=your_cos_bucket_name

# 텐센트 클라우드 COS APPID
# COS_APP_ID=your_cos_app_id

# 텐센트 클라우드 COS 스토리지 경로 접두사
# COS_PATH_PREFIX=your_cos_path_prefix

# 구 도메인 호환 활성화 여부
COS_ENABLE_OLD_DOMAIN=true

# 웹 페이지 접근 시 프록시를 거쳐야 하는 경우 설정
# WEB_PROXY=your_web_proxy

# Neo4j 설정
# NEO4J_ENABLE=false

# Neo4j 연결 URI
# NEO4J_URI=neo4j://neo4j:7687

# Neo4j 사용자명
# NEO4J_USERNAME=neo4j

# Neo4j 비밀번호
# NEO4J_PASSWORD=password

# ========== 파일 분석 설정 ==========
# 최대 파일 업로드 크기 제한(MB 단위), 기본값 50MB
# 백엔드 및 Nginx 설정과 일치하도록 권장
# MAX_FILE_SIZE_MB=50

# APK 미러 소스 설정(선택 사항)
APK_MIRROR_ARG=mirrors.tencent.com

# ========== LLM 설정 (예: Google Gemini) ==========
# LLM API 키 입력
LLM_API_KEY=your_llm_api_key_here

# LLM Base URL (OpenAI 호환 API인 경우)
LLM_BASE_URL=https://generativelanguage.googleapis.com/v1beta/openai/

# 사용할 기본 모델명
LLM_MODEL=gemini-1.5-flash
